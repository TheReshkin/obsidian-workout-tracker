# Plan: Подсветка статуса упражнения при редактуре

Краткое описание:
Добавить возможность визуально подсвечивать статус каждого упражнения внутри формы редактирования тренировки. Статусы — `planned` (запланировано), `done` (выполнено), `skipped` (пропущено), `illness` (болезнь).

Технологии и среда:
- TypeScript (strict) targeting Obsidian plugin API
- Bundling: esbuild (dev/watch via `npm run dev`)
- UI: Obsidian DOM helpers (createDiv/createEl) + CSS in `styles.css`

Файлы, которые, вероятно, затронем:
- `src/processors/InlineWorkoutEditor.ts` — основной редактор упражнений (добавить индикатор статуса рядом с каждым упражнением и логику изменения)
- `src/components/WorkoutTrackerApp.tsx` — может потребовать обновления кнопок/команд, если есть глобальные UI-элементы
- `src/processors/WorkoutMarkdownProcessor.ts` — отрисовка (read-only) —, возможно, синхронизировать стиль подсветки
- `src/types/index.ts` — типы `Exercise`/`ExerciseSpec` (убедиться в наличии поля статуса на уровне упражнения, если нужно)
- `styles.css` — стили для подсветки (background/border/badge)

Цели и критерии успеха:
- Каждый элемент упражнения при редактировании имеет видимый статус-бейдж (цвет/иконка) и возможность переключить статус
- Статус сохраняется в данных тренировки и корректно отображается в read-only виде
- Стили работают в светлой и тёмной теме
- Набор unit/integration тестов для критических функций (опционально)

Ограничения и допущения:
- Поддержка drag-and-drop и нумерации уже реализована — дополняем подсветкой
- Поле статуса может жить как на уровне упражнения (`exercise.status`) или у тренировки — выберу уровень упражнения, если не найдена предыдущая договорённость
- Не меняем формат конечного JSON хранения, если это потребует миграции — добавляем опциональное поле `status` к упражнениям

